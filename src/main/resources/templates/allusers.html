<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" lang="">
<!-- inorder to use thymeleaf th: we have to add in <html xmlns:th="https://www.thymeleaf.org"-->

<head>
<div th:replace="~{header :: header}"></div>
</head>

<body>
<!-- navbar of bootstrap -->
<div th:replace="~{header :: nav_header}"></div>
<!-- use container -->
<div class="container">
    <br>
    <!-- table head -->
    <!-- https://getbootstrap.com/docs/4.1/content/tables/ -->
    <table class="table table-striped table-bordered" data-th-background="reflect">
        <div class="row">
            <div class="row">
                <div class="col-lg-3">
                    <div class="shadow1" style="height:40px;width:150px">
                        <a th:href="@{/users/new}" class="btn btn-primary btn-sm mb-3"
                           style="height:40px;width:150px" th:align="center">Add User</a>
                    </div>
                </div>
            </div>
        </div>

        <br>
        <!-- the table head -->
        <thead class>
        <tr style="background-color:powderblue;">
            <th scope="col">ID</th>
            <th scope="col">UserName</th>
            <th scope="col">Password</th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>


            <th scope="Actions">Action</th>
        </tr>
        </thead>

        <!-- table body -->
        <tbody>
        <!-- display the table row dynamically -->
        <!-- take student from allStudents (this is defined in the controller class) -->
        <!-- Thymeleaf each attribute, to iterate in list of students -->
        <!-- ${} is for accessing a variable from the code -->
        <tr style="background-color:powderblue;" th:each="user: ${all_users}">

            <td th:text="${user.id}"></td>
            <td th:text="${user.username}"></td>
            <td th:text="${user.password}"></td>
            <td th:text="${user.name}"></td>
            <td th:text="${user.email}"></td>




            <!-- Actions -->
            <td>
                <!-- update -->
                <div class="shadow" style="height:40px;width:80px">
                    <a th:href="@{users/edit/{id}(id=${user.id})}"
                       class="btn btn-primary" style="height:40px;width:80px">Update</a>
                </div>
                <br>
                <!-- delete -->
                <div class="shadow" style="height:40px;width:80px">
                    <link th:rel="stylesheet" href="/css/deleteStyle.css">
                    <script src="/js/deleteWarning.js"></script>

                    <a class="btn btn-danger" style="height:40px;width:80px" onclick="showDeletePopup()">Delete</a>

                    <div class="delete-popup" id="delete-popup">
                        <div class="delete-popup-content">
                            <p>Are you sure you want to delete this record?</p>
                            <a th:href="@{users/{id}(id=${user.id})}"
                               class="btn btn-danger" style="height:40px;width:80px">OK</a>
                           <a class="btn btn-primary" onclick="hideDeletePopup()" style="height:40px;width:80px"
                           >Cancel</a>
                        </div>
                    </div>
                </div>
            </td>
        </tr>


        </tbody>
    </table>

</div>
<div th:replace="~{footer :: footer}"></div>
</body>
</html>